# 🧪 LINKYA-AI 本地主流程測試清單

## 🎯 測試目標
完成三個核心功能的主流程測試：
1. ✅ 登入系統
2. ✅ AI 對話功能
3. ✅ 後台管理

---

## 📋 測試環境準備

### ✅ 已就緒
- Hardhat 本地節點運行中: `http://127.0.0.1:8545`
- 前端開發服務器啟動中: `http://localhost:3000`
- 合約已部署: `0x5FbDB2315678afecb367f032d93F642f64180aa3`
- 測試帳戶可用: 10000 ETH

### 🔗 訪問地址
- **前端**: http://localhost:3000
- **Hardhat 節點**: http://127.0.0.1:8545

---

## 🧪 測試流程 1: 登入系統

### 步驟 1.1: Dev 登入
- [ ] 打開瀏覽器訪問 `http://localhost:3000`
- [ ] 點擊右上角 **Dev 登入** 按鈕
- [ ] 確認連接成功提示
- [ ] 查看地址顯示（應該顯示測試帳戶地址的縮短版本）

**預期結果**: 
- ✅ 成功連接
- ✅ 顯示 "🟢 Particle 已連接"
- ✅ 顯示測試帳戶地址

---

## 🧪 測試流程 2: NFT 鑄造（登入後的完整流程）

### 步驟 2.1: 查看主頁面
- [ ] 確認已登入狀態
- [ ] 查看 "您的 AI 人格數量"（應該為 0）
- [ ] 查看 "總供應量"（應該為 0）

### 步驟 2.2: 鑄造第一個 NFT
- [ ] 確保在 **🎭 鑄造 NFT** 標籤
- [ ] 點擊 **🚀 鑄造 CoreLink-Framework NFT** 按鈕
- [ ] 確認交易發送（本地網絡幾乎即時）

**預期結果**:
- ✅ 顯示 "⏳ 交易發送中..."
- ✅ 然後自動切換到 AI 對話標籤
- ✅ 顯示成功消息 "✅ 鑄造請求已發送!"
- ✅ 顯示交易哈希（前後縮短版本）

### 步驟 2.3: 驗證 NFT 鑄造
- [ ] 切換回 **🎭 鑄造 NFT** 標籤
- [ ] 查看 "您的 AI 人格數量"（應該為 1）
- [ ] 查看 "總供應量"（應該為 1）

---

## 🧪 測試流程 3: AI 對話功能

### 步驟 3.1: 啟動 AI 對話
- [ ] 點擊 **🧠 AI 對話** 標籤
- [ ] 查看視覺聊天界面載入

**預期界面包含**:
- ✅ 皮皮角色（移動動畫）
- ✅ 心窗動畫（7弦呼吸律動）
- ✅ 上下文管理面板
- ✅ 消息輸入框
- ✅ 對話歷史區域

### 步驟 3.2: 測試皮皮角色交互
- [ ] 觀察皮皮角色自動移動動畫
- [ ] 點擊皮皮角色
- [ ] 查看皮皮反應（表情變化）
- [ ] 觀察說話氣泡出現

**預期效果**:
- ✅ 皮皮緩慢水平移動（12秒循環）
- ✅ 點擊後觸發隨機反應
- ✅ 表情變化動畫
- ✅ 說話氣泡淡入

### 步驟 3.3: 測試心窗動畫
- [ ] 觀察七弦呼吸律動動畫
- [ ] 切換不同心境模式（如果有按鈕）

**預期效果**:
- ✅ 7根弦同時呼吸動畫
- ✅ 衛星氣泡效果
- ✅ Canvas 動畫流暢

### 步驟 3.4: 測試對話功能
- [ ] 在輸入框輸入消息（例如："你好"）
- [ ] 發送消息
- [ ] 查看消息在對話歷史中顯示
- [ ] 查看AI回應（如果有 OpenAI API 配置）

**預期結果**:
- ✅ 消息成功發送
- ✅ 顯示在對話歷史中
- ✅ AI 回應（如果有配置）

### 步驟 3.5: 測試上下文管理
- [ ] 查看上下文統計數字
  - 對話條數
  - 估算 Tokens
  - 使用率
  - 剩餘空間
- [ ] 調整上下文長度滑塊
- [ ] 點擊壓縮按鈕
- [ ] 點擊清空按鈕

**預期結果**:
- ✅ 統計數字實時更新
- ✅ 滑塊可調整
- ✅ 壓縮功能工作
- ✅ 清空功能工作

---

## 🧪 測試流程 4: 後台管理

### 步驟 4.1: 訪問後台頁面
- [ ] 在瀏覽器中訪問 `http://localhost:3000/admin`
- [ ] 查看後台管理界面

**預期內容**:
- ✅ 後台頁面載入成功
- ✅ 顯示管理功能（如果已實現）

### 步驟 4.2: 檢查後台功能
- [ ] 查看用戶管理功能
- [ ] 查看 NFT 管理功能
- [ ] 查看系統統計

**預期功能**（根據實際實現）:
- ✅ 用戶列表
- ✅ NFT 列表
- ✅ 統計數據
- ✅ 管理操作按鈕

---

## 🐛 問題排查

### 問題 1: 無法訪問前端
**症狀**: 瀏覽器顯示無法連接
**解決**:
```bash
# 檢查開發服務器是否運行
# 如果有問題，重啟：
cd linkya-frontend
npm run dev
```

### 問題 2: 錢包無法連接
**症狀**: Dev 登入按鈕無反應
**解決**:
1. 確認 Hardhat 節點正在運行
2. 檢查瀏覽器控制台錯誤
3. 刷新頁面重試

### 問題 3: 鑄造失敗
**症狀**: 交易失敗錯誤
**解決**:
1. 確認 Hardhat 節點正在運行
2. 確認合約地址正確: `0x5FbDB2315678afecb367f032d93F642f64180aa3`
3. 檢查賬戶餘額（本地測試有 10000 ETH）

### 問題 4: AI 對話無回應
**症狀**: 發送消息後無 AI 回應
**解決**:
1. 檢查 OpenAI API Key 配置（`.env.local`）
2. 查看瀏覽器控制台錯誤
3. 檢查網絡請求狀態

---

## ✅ 測試完成標準

### 必須通過的功能
- [x] Dev 登入成功
- [ ] NFT 鑄造成功
- [ ] 可以查看鑄造的 NFT
- [ ] AI 對話界面載入
- [ ] 皮皮角色動畫正常
- [ ] 心窗動畫正常
- [ ] 消息發送功能
- [ ] 上下文管理功能
- [ ] 後台管理頁面訪問

### 可選測試
- [ ] 多個 NFT 鑄造
- [ ] NFT 轉移（如果支持）
- [ ] 經驗值系統（需要合約調用）
- [ ] 多個用戶交互

---

## 📝 測試記錄

### 開始時間
_記錄測試開始時間_

### 環境信息
- 瀏覽器: ___________
- 操作系統: ___________
- Node.js 版本: ___________

### 發現的問題
1. 
2. 
3. 

### 測試結果總結
_完成後填寫_

---

## 🎉 完成後

測試完成後，請記錄：
1. ✅ 哪些功能正常工作
2. ❌ 哪些功能有問題
3. 💡 改進建議

**準備下一步**:
- 部署到 Base Sepolia 測試網
- 配置 OpenAI API Key
- 優化用戶體驗







